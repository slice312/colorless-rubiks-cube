{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;AAAA;;;;;;;;;;;;;;;;ACAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB,IAAI,iFAAwC;AAC5C;AACA;AACA;AACA,wBAAwB,8EAAqC;AAC7D,QAAQ,yFAAgD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,iFAAwC;AAC5C;AACA;AACA;AACA;;;;;;;;;;;;;;;AChDwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,gBAAgB,kEAAa;AAC7B;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT,gBAAgB,kEAAa;AAC7B;AACA;AACA,CAAC;AACD;AACA;AACO,sCAAsC,8DAAS;;;;;;;;;;;;;;;ACvBtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACrBuD;AACvD;AACA;AACO;AACP;AACA;AACA,0BAA0B,6EAAoB;AAC9C;;;;;;;;;;;;;;;ACPiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,2EAAkC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB,IAAI,2EAAkC;AACtC;AACA;AACA;AACA,wBAAwB,wEAA+B;AACvD,QAAQ,mFAA0C;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;;;;;;;;;;;;;;;ACzEwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,gBAAgB,kEAAa;AAC7B;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT,gBAAgB,kEAAa;AAC7B;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT,gBAAgB,kEAAa;AAC7B;AACA;AACA,CAAC;AACD;AACA;AACO,gCAAgC,8DAAS;;;;;;;;;;;;;;;;AC9BzC;AACP;AACA,CAAC;AACD;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B,eAAe,WAAW;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;UClEA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;;ACN6B;AAC2B;AACK;AACS;AAClB;AACpD;AACA;AACA;AACO;AACP,IAAI,uEAAe;AACnB,IAAI,4EAAa;AACjB,IAAI,qFAAsB;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,sEAAiB;AACrB;AACA;AACA;AACA;AACA","sources":["webpack://colorless-rubiks-cube/./src/styles/index.scss?2246","webpack://colorless-rubiks-cube/./src/components/consultation-form/index.js","webpack://colorless-rubiks-cube/./src/components/consultation-form/validation.js","webpack://colorless-rubiks-cube/./src/components/header-nav/index.js","webpack://colorless-rubiks-cube/./src/components/main-page/preview/index.js","webpack://colorless-rubiks-cube/./src/components/modal-order/index.js","webpack://colorless-rubiks-cube/./src/components/modal-order/validation.js","webpack://colorless-rubiks-cube/./src/service/validation.js","webpack://colorless-rubiks-cube/webpack/bootstrap","webpack://colorless-rubiks-cube/webpack/runtime/define property getters","webpack://colorless-rubiks-cube/webpack/runtime/hasOwnProperty shorthand","webpack://colorless-rubiks-cube/webpack/runtime/make namespace object","webpack://colorless-rubiks-cube/./src/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","import {ConsultationFormValidator} from \"./validation\";\r\n\r\n\r\nconst form = document.getElementById(\"consultation-form\");\r\nconst btnSubmit = document.getElementById(\"consultation-form-btn-submit\");\r\n\r\n\r\nexport const renderConsultationForm = () => {\r\n    if (form)\r\n        form.onsubmit = onFormSubmit;\r\n}\r\n\r\n\r\nconst onFormSubmit = (e) => {\r\n    e.preventDefault(); // прервать перезагрузку страницы\r\n    ConsultationFormValidator.clearErrorsAll();\r\n\r\n    // таймаут для анимации мигания перед валидацией\r\n    setTimeout(async () => {\r\n        const isValid = ConsultationFormValidator.validateAll();\r\n        ConsultationFormValidator.setClearErrorsHandlers();\r\n\r\n        if (isValid) {\r\n            btnSubmit.innerText = \"Идет отправка...\";\r\n            btnSubmit.disabled = true;\r\n            await postFormData();\r\n\r\n            resetState();\r\n        }\r\n    }, 70);\r\n};\r\n\r\nconst postFormData = async () => {\r\n    const formData = {\r\n        name: form.elements.name.value,\r\n        email: form.elements.email.value\r\n    };\r\n\r\n    await new Promise(resolve => setTimeout(resolve, 2000));\r\n    console.log(\"Posted Form Data\", formData);\r\n};\r\n\r\nconst resetState = () => {\r\n    form.reset();\r\n    ConsultationFormValidator.clearErrorsAll();\r\n\r\n    btnSubmit.innerText = \"Отправить\";\r\n    btnSubmit.disabled = false;\r\n};","import {Rule, Validator} from \"/src/service/validation\";\r\n\r\n\r\nconst fields = Object.freeze({\r\n    name: {\r\n        elements: {\r\n            input: document.getElementById(\"consultation-form-input-name\"),\r\n            status: document.getElementById(\"consultation-form-input-name-err\")\r\n        },\r\n        rules: [Rule.required],\r\n        errorText: \"\"\r\n    },\r\n    email: {\r\n        elements: {\r\n            input: document.getElementById(\"consultation-form-input-email\"),\r\n            status: document.getElementById(\"consultation-form-input-email-err\")\r\n        },\r\n        rules: [Rule.required],\r\n        errorText: \"\"\r\n    }\r\n});\r\n\r\n\r\nexport const ConsultationFormValidator = new Validator(fields);\r\n","const toggleMenu = () => {\r\n    const menu = document.getElementById(\"mobile-menu\");\r\n    const burgerBtn = document.querySelector('.burger');\r\n\r\n    burgerBtn.classList.toggle(\"active\");\r\n    menu.classList.toggle(\"mobile-menu__active\");\r\n};\r\n\r\nexport const renderHeaderNav = () => {\r\n    const burgerBtn = document.getElementById(\"burger-btn\");\r\n    const closeBtn = document.getElementById(\"burger-close-btn\");\r\n    burgerBtn.onclick = toggleMenu;\r\n    closeBtn.onclick = toggleMenu;\r\n    setActiveNavLink();\r\n};\r\n\r\n\r\nconst setActiveNavLink = () => {\r\n    Array.from(document.querySelectorAll(\".menu__link\"))\r\n        .filter(x => x.href === window.location.href)\r\n        .forEach(x => x.classList.add(\"menu__link_active\"));\r\n};","import {ModalOrder} from \"/src/components/modal-order\";\r\n\r\n\r\nexport const renderPreview = () => {\r\n    const btnOpen = document.getElementById(\"btn-discuss-issue\");\r\n    if (btnOpen)\r\n        btnOpen.onclick = ModalOrder.openModal;\r\n};","import {ModalOrderValidator} from \"./validation\";\r\n\r\n\r\nconst form = document.getElementById(\"modal-order-form\");\r\nconst btnClose = document.getElementById(\"modal-order-btn-close\");\r\nconst btnSubmit = document.getElementById(\"modal-order-btn-submit\");\r\nconst labelSuccess = document.getElementById(\"modal-order-label-success\");\r\n\r\n\r\nconst openModal = () => {\r\n    const modal = document.getElementById(\"modal-order\");\r\n    modal.classList.add(\"modal-order_open\");\r\n    document.body.classList.add(\"modal-open\");\r\n};\r\n\r\nconst closeModal = () => {\r\n    const modalOrder = document.getElementById(\"modal-order\");\r\n    document.body.classList.remove(\"modal-open\");\r\n    modalOrder.classList.remove(\"modal-order_open\");\r\n    resetState();\r\n};\r\n\r\nconst resetState = () => {\r\n    form.reset();\r\n    ModalOrderValidator.clearErrorsAll();\r\n\r\n    labelSuccess.style.visibility = \"hidden\";\r\n    btnSubmit.innerText = \"Отправить\";\r\n    btnSubmit.disabled = false;\r\n};\r\n\r\nconst onFormSubmit = (e) => {\r\n    e.preventDefault(); // прервать перезагрузку страницы\r\n    ModalOrderValidator.clearErrorsAll();\r\n\r\n    // таймаут для анимации мигания перед валидацией\r\n    setTimeout(async () => {\r\n        const isValid = ModalOrderValidator.validateAll();\r\n        ModalOrderValidator.setClearErrorsHandlers();\r\n\r\n        if (isValid) {\r\n            btnSubmit.innerText = \"Идет отправка...\";\r\n            btnSubmit.disabled = true;\r\n            await postFormData();\r\n\r\n            resetState();\r\n            labelSuccess.style.visibility = \"visible\";\r\n        }\r\n    }, 70);\r\n};\r\n\r\nconst postFormData = async () => {\r\n    const formData = {\r\n        name: form.elements.name.value,\r\n        email: form.elements.email.value,\r\n        plan: form.elements.issue.value\r\n    };\r\n\r\n    await new Promise(resolve => setTimeout(resolve, 2000));\r\n    console.log(\"Posted Form Data\", formData);\r\n};\r\n\r\n\r\nconst render = () => {\r\n    btnClose.onclick = closeModal;\r\n    form.onsubmit = onFormSubmit\r\n};\r\n\r\n\r\nexport const ModalOrder = {\r\n    openModal,\r\n    closeModal,\r\n    render\r\n}","import {Rule, Validator} from \"/src/service/validation\";\r\n\r\nconst fields = Object.freeze({\r\n    name: {\r\n        elements: {\r\n            input: document.getElementById(\"modal-order-input-name\"),\r\n            status: document.getElementById(\"modal-order-input-name-err\")\r\n        },\r\n        rules: [Rule.required],\r\n        errorText: \"\"\r\n    },\r\n    email: {\r\n        elements: {\r\n            input: document.getElementById(\"modal-order-input-email\"),\r\n            status: document.getElementById(\"modal-order-input-email-err\")\r\n        },\r\n        rules: [Rule.required],\r\n        errorText: \"\"\r\n    },\r\n    issueDescription: {\r\n        elements: {\r\n            input: document.getElementById(\"modal-order-text-issue\"),\r\n            status: document.getElementById(\"modal-order-text-issue-err\")\r\n        },\r\n        rules: [Rule.required],\r\n        errorText: \"\"\r\n    }\r\n});\r\n\r\n\r\nexport const ModalOrderValidator = new Validator(fields);\r\n","export const Rule = Object.freeze({\r\n    required: (value) => !value ? \"поля обязательно*\" : \"\",\r\n});\r\n\r\n\r\nexport class Validator {\r\n    #fields;\r\n\r\n    constructor(fields) {\r\n        this.#fields = fields;\r\n    }\r\n\r\n    validateAll() {\r\n        Object.keys(this.#fields).forEach(field => this.#validateField(field));\r\n        return Object.values(this.#fields).every(field => !field.errorText);\r\n    }\r\n\r\n    clearErrorsAll() {\r\n        Object.keys(this.#fields).forEach(fieldName => this.#clearError(fieldName));\r\n    }\r\n\r\n    setClearErrorsHandlers() {\r\n        Object.keys(this.#fields)\r\n            .forEach(fieldName => {\r\n                this.#fields[fieldName].elements.input\r\n                    .addEventListener(\"input\", () => this.#clearError(fieldName));\r\n            });\r\n    }\r\n\r\n    #validateField(fieldName) {\r\n        this.#fields[fieldName].errorText = this.#getErrorText(fieldName);\r\n        this.#renderError(fieldName);\r\n    };\r\n\r\n    #getErrorText(fieldName) {\r\n        const rules = this.#fields[fieldName].rules;\r\n        const value = this.#fields[fieldName].elements.input.value;\r\n\r\n        let errorText = \"\";\r\n\r\n        rules.some(rule => {\r\n            errorText = rule(value);\r\n            return errorText;\r\n        });\r\n\r\n        return errorText;\r\n    };\r\n\r\n    #renderError(fieldName) {\r\n        const {status, input} = this.#fields[fieldName].elements;\r\n        const {errorText} = this.#fields[fieldName];\r\n\r\n        if (errorText)\r\n            input.classList.add(\"input_error\");\r\n        else\r\n            input.classList.remove(\"input_error\");\r\n\r\n        status.textContent = errorText;\r\n    };\r\n\r\n    #clearError(fieldName) {\r\n        this.#fields[fieldName].errorText = \"\";\r\n        this.#renderError(fieldName);\r\n    };\r\n\r\n}\r\n\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import \"./styles/index.scss\";\r\nimport {renderHeaderNav} from \"./components/header-nav\";\r\nimport {renderPreview} from \"./components/main-page/preview\";\r\nimport {renderConsultationForm} from \"./components/consultation-form\";\r\nimport {ModalOrder} from \"./components/modal-order\";\r\n\r\n\r\n\r\nexport const render = () => {\r\n    renderHeaderNav();\r\n    renderPreview();\r\n    renderConsultationForm();\r\n\r\n    const btnTrainingItemMore = document.getElementById(\"btn-training-item-more\");\r\n    if (btnTrainingItemMore) {\r\n        btnTrainingItemMore.onclick = () => {\r\n            window.location.href = \"./training.html\";\r\n        }\r\n    }\r\n\r\n    ModalOrder.render();\r\n};\r\n\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", render);\r\n\r\n"],"names":[],"sourceRoot":""}